using System;
using UnityEngine;


public class Invulnerability : BaseEquipmentController
{
    public float time = 5f;

    private Timer _timer;

    public override EquipmentType equipType
    {
        get
        {
            return EquipmentType.INVULNIRABILITY;
        }
    }


    public override void OnEquip(ActorModel owner)
    {
        _owner = owner;
        _timer = new Timer(time);
        _timer.OnComplete(OnCompleteTimer);
        _timer.Start();

        _owner.enableDamage = false;
    }

    public override void OnUnequip()
    {
        _owner.enableDamage = true;
    }

    private void OnCompleteTimer()
    {
        equipModel.Unequip();
    }

    void Update()
    {
        _timer.Update();
    }

}
